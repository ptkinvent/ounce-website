<!DOCTYPE html>
<html>
<head>
    <title>Welcome to Ounce!</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
</head>



<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">Ounce</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid py-5 text-center">
        <div class="container">
            <h1 class="display-5 fw-bold">Welcome to Ounce!</h1>
            <p class="fs-4">Better, faster disaster risk analytics.</p>
            <a href="#" class="btn btn-primary btn-lg">Get started</a>
        </div>
    </div>

    <div class="container-fluid bg-light">
        <ul class="nav justify-content-center">
            <li class="nav-item">
                <a class="nav-link active" href="#section1">Fire Ecology & Benefits</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#section2">History of Suppression</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#section3">Present Land Management</a>
            </li>
        </ul>
    </div>

    <div class="container">
        <div class="col-md-8 offset-md-2 py-3">
            <p>Fire season in 2020 has resulted in another year of record setting megafires for the United State's West Coast. Millions of acres have burned and lives have been lost. Six of the twenty largest wildfires in California history were part of the 2020 wildfire season - five of the new wildfires ranking in the top 10 were all a part of the August 2020 lightning fires.</p>
            <p>As each successive fire season seems to be worse than the year before, what can be done to protect the people and the West's vast land and resources? Read on to learn about how fire is a powerful land management tool to restore health and balance to wildlands as the climate continues to change.</p>
            <a name="section1"></a>

            <h2>Fire Ecology & Benefits</h2>
            <p>Many years of public opinion have molded views of wildfire to be negative and destructive to society and nature. However, while fire may destroy, it also brings new life. Nature has evolved with fire to become an essential contributor to a healthy ecosystem.</p>
            <div id="content"></div>
            <p>Fire cleans the forest floor by removing underbrush and dead or decaying plants. This allows sunlight to reach the soil which prompts new growth of grass and shrubs which in turn provide food and habitat for wildlife. Removing decaying plants also brings nutrients back in the soil increasing soil fertility and creates space for established trees to grow healthier and stronger. Fewer plants competing for water creates more abundant streams which further promote healthy habitats for wildlife.</p>

            <a name="section2"></a>
            <h2>History of Suppression</h2>
            <p>The year 1910 was one of the driest years in many people's memories. By June, hundreds of blazes were burning as the result of loggers, campers, and flying embers from coal-powered locomotives and a lack of spring rain. As summer progressed, lightning storms stuck and started more fires. In August, a hurricane-force wind storm picked up and turned small fires into infernos which burned 3 million acres of land in two days and decimated towns.</p>

            <a name="section3"></a>
            <h2>Present Land Management</h2>
            <p>Lands throughout the Western US are managed by multiple government agencies including federal, state, and local organizations with federal and state being the bulk of the land area.<p>
            <p>Federal agencies include:</p>
            <ul>
                <li>Bureau of Land Management (BLM) of the Dept. of the Interior: 246 million acres of public lands</li>
                <li>US Forest Service (USFS) of the Dept. of Agriculture: 193 million acres of the National Forest System</li>
                <li>National Park Service (NPS) of the DOI: 80 million acres in the National Park System</li>
            </ul>
            <img src="john.jpg" class="w-100 my-2"/>
            <p>Prescribed burns, also known as controlled burns, are fires intentionally set by trained professionals during specific conditions in order to mimic natural fire and bring health back to the forests. Land management agencies now use prescribed fire to thin out overgrown forests to also help prevent out of control mega-wildfires.</p>
    </div>

    <footer class="py-3 mt-4 text-muted border-top">
        <div class="container">
            &copy; 2021
        </div>
    </footer>

    <script type="module">
        import * as THREE from 'https://cdn.skypack.dev/three@0.132.2';

        import { OrbitControls } from 'https://cdn.skypack.dev/three@0.132.2/examples/jsm/controls/OrbitControls.js';
        import { unclassifiedVertices } from './data/points_unclassified.js';
        import { bareEarthGroundVertices } from './data/points_bare_earth_ground.js';
        import { lowVegetationVertices } from './data/points_low_vegetation.js';
        import { mediumVegetationVertices } from './data/points_medium_vegetation.js';
        import { highVegetationVertices } from './data/points_high_vegetation.js';
        import { buildingVertices } from './data/points_building.js';
        import { lowNoiseVertices } from './data/points_low_noise.js';
        import { waterVertices } from './data/points_water.js';
        import { ignoredGroundVertices } from './data/points_ignored_ground.js';
        import { bridgesVertices } from './data/points_bridges.js';
        import { highNoiseVertices } from './data/points_high_noise.js';
        import { errorVertices } from './data/points_error.js';

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);

        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(document.getElementById('content').clientWidth, document.getElementById('content').clientWidth*2/3);
        document.getElementById('content').appendChild(renderer.domElement);

        const controls = new OrbitControls(camera, renderer.domElement);

        //const vertices = [];
        //for (let i=0; i<5e6; i++) {
        //    const x = THREE.MathUtils.randFloatSpread(3e4);
        //    const y = THREE.MathUtils.randFloatSpread(3e4);
        //    const z = THREE.MathUtils.randFloatSpread(3e4);
        //    vertices.push(x, y, z);
        //}

        const unclassifiedGeometry = new THREE.BufferGeometry();
        unclassifiedGeometry.setAttribute('position', new THREE.Float32BufferAttribute(unclassifiedVertices, 3));
        const unclassifiedMaterial = new THREE.PointsMaterial({ color: 0x000000 });
        const unclassifiedPoints = new THREE.Points(unclassifiedGeometry, unclassifiedMaterial);
        //scene.add(unclassifiedPoints);

        const bareEarthGroundGeometry = new THREE.BufferGeometry();
        bareEarthGroundGeometry.setAttribute('position', new THREE.Float32BufferAttribute(bareEarthGroundVertices, 3));
        const bareEarthGroundMaterial = new THREE.PointsMaterial({ color: 0x00FF00 });
        const bareEarthGroundPoints = new THREE.Points(bareEarthGroundGeometry, bareEarthGroundMaterial);
        scene.add(bareEarthGroundPoints);

        const lowVegetationGeometry = new THREE.BufferGeometry();
        lowVegetationGeometry.setAttribute('position', new THREE.Float32BufferAttribute(lowVegetationVertices, 3));
        const lowVegetationMaterial = new THREE.PointsMaterial({ color: 0x00FFFF });
        const lowVegetationPoints = new THREE.Points(lowVegetationGeometry, lowVegetationMaterial);
        scene.add(lowVegetationPoints);

        const mediumVegetationGeometry = new THREE.BufferGeometry();
        mediumVegetationGeometry.setAttribute('position', new THREE.Float32BufferAttribute(mediumVegetationVertices, 3));
        const mediumVegetationMaterial = new THREE.PointsMaterial({ color: 0xFFFF00 });
        const mediumVegetationPoints = new THREE.Points(mediumVegetationGeometry, mediumVegetationMaterial);
        scene.add(mediumVegetationPoints);

        const highVegetationGeometry = new THREE.BufferGeometry();
        highVegetationGeometry.setAttribute('position', new THREE.Float32BufferAttribute(highVegetationVertices, 3));
        const highVegetationMaterial = new THREE.PointsMaterial({ color: 0x00AA00 });
        const highVegetationPoints = new THREE.Points(highVegetationGeometry, highVegetationMaterial);
        scene.add(highVegetationPoints);

        const buildingGeometry = new THREE.BufferGeometry();
        buildingGeometry.setAttribute('position', new THREE.Float32BufferAttribute(buildingVertices, 3));
        const buildingMaterial = new THREE.PointsMaterial({ color: 0xFF0000 });
        const buildingPoints = new THREE.Points(buildingGeometry, buildingMaterial);
        scene.add(buildingPoints);

        const lowNoiseGeometry = new THREE.BufferGeometry();
        lowNoiseGeometry.setAttribute('position', new THREE.Float32BufferAttribute(lowNoiseVertices, 3));
        const lowNoiseMaterial = new THREE.PointsMaterial({ color: 0x000000 });
        const lowNoisePoints = new THREE.Points(lowNoiseGeometry, lowNoiseMaterial);
        //scene.add(lowNoisePoints);

        const waterGeometry = new THREE.BufferGeometry();
        waterGeometry.setAttribute('position', new THREE.Float32BufferAttribute(waterVertices, 3));
        const waterMaterial = new THREE.PointsMaterial({ color: 0x0000FF });
        const waterPoints = new THREE.Points(waterGeometry, waterMaterial);
        scene.add(waterPoints);

        const ignoredGroundGeometry = new THREE.BufferGeometry();
        ignoredGroundGeometry.setAttribute('position', new THREE.Float32BufferAttribute(ignoredGroundVertices, 3));
        const ignoredGroundMaterial = new THREE.PointsMaterial({ color: 0x000000 });
        const ignoredGroundPoints = new THREE.Points(ignoredGroundGeometry, ignoredGroundMaterial);
        //scene.add(ignoredGroundPoints);

        const bridgesGeometry = new THREE.BufferGeometry();
        bridgesGeometry.setAttribute('position', new THREE.Float32BufferAttribute(bridgesVertices, 3));
        const bridgesMaterial = new THREE.PointsMaterial({ color: 0x007700 });
        const bridgesPoints = new THREE.Points(bridgesGeometry, bridgesMaterial);
        scene.add(bridgesPoints);

        const highNoiseGeometry = new THREE.BufferGeometry();
        highNoiseGeometry.setAttribute('position', new THREE.Float32BufferAttribute(highNoiseVertices, 3));
        const highNoiseMaterial = new THREE.PointsMaterial({ color: 0x000000 });
        const highNoisePoints = new THREE.Points(highNoiseGeometry, highNoiseMaterial);
        //scene.add(highNoisePoints);

        const errorGeometry = new THREE.BufferGeometry();
        errorGeometry.setAttribute('position', new THREE.Float32BufferAttribute(errorVertices, 3));
        const errorMaterial = new THREE.PointsMaterial({ color: 0x000000 });
        const errorPoints = new THREE.Points(errorGeometry, errorMaterial);
        //scene.add(errorPoints);

        camera.position.x = -5;
        //camera.position.y = -5;
        //camera.position.z = 5;
        controls.update();

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
            // points.rotation.x += 0.01;
            // points.rotation.y += 0.001;
        }
        animate();
    </script>
</body>
</html>
